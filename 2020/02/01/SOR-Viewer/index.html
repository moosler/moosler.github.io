<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Online SOR-Viewer - Moe´s Blog</title><meta description="See live Demo Online SOR Viewer.See Project on GitHub. Introduction OTDROptical Time Domain Reflectometry (OTDR) is a method for measuring and testing optical fibers. With the OTDR method, faults in f"><meta property="og:type" content="blog"><meta property="og:title" content="Online SOR-Viewer"><meta property="og:url" content="https://marmoo.de/2020/02/01/SOR-Viewer/"><meta property="og:site_name" content="Moe´s Blog"><meta property="og:description" content="See live Demo Online SOR Viewer.See Project on GitHub. Introduction OTDROptical Time Domain Reflectometry (OTDR) is a method for measuring and testing optical fibers. With the OTDR method, faults in f"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://marmoo.de/images/sor_viewer.PNG"><meta property="article:published_time" content="2020-02-01T13:24:03.000Z"><meta property="article:modified_time" content="2020-05-05T16:49:25.225Z"><meta property="article:author" content="Marco Moosler"><meta property="article:tag" content="OTDR"><meta property="article:tag" content="SOR"><meta property="article:tag" content="Fiber optic"><meta property="article:tag" content="Measuring software"><meta property="article:tag" content="Graph"><meta property="article:tag" content="echarts.js"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/images/sor_viewer.PNG"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://marmoo.de/2020/02/01/SOR-Viewer/"},"headline":"Moe´s Blog","image":[],"datePublished":"2020-02-01T13:24:03.000Z","dateModified":"2020-05-05T16:49:25.225Z","author":{"@type":"Person","name":"Marco Moosler"},"description":"A Simple Web Development Blog"}</script><link rel="canonical" href="https://marmoo.de/2020/02/01/SOR-Viewer/"><link rel="icon" href="/img/mm_logo.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/monokai.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/mm_logo.png" alt="Moe´s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="thumbnail" src="/images/sor_viewer.PNG" alt="Online SOR-Viewer"></span></div><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-02-01T13:24:03.000Z" title="2020-02-01T13:24:03.000Z">2020-02-01</time><span class="level-item"><a class="link-muted" href="/categories/OTDR/">OTDR</a><span> / </span><a class="link-muted" href="/categories/OTDR/Fiber-optic/">Fiber optic</a></span><span class="level-item">4 minutes read (About 582 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">Online SOR-Viewer</h1><div class="content"><p>See live Demo <a href="https://marmoo.de/coding/otdr">Online SOR Viewer</a>.<br>See Project on <a href="https://github.com/moosler/Sor-Viewer">GitHub</a>.</p>
<h2 id="Introduction-OTDR"><a href="#Introduction-OTDR" class="headerlink" title="Introduction OTDR"></a>Introduction OTDR</h2><p>Optical Time Domain Reflectometry (OTDR) is a method for measuring and testing optical fibers. With the OTDR method, faults in fibre optic cables can be detected directly, but also transmission parameters can be measured and analysed.</p>
<p>In OTDR measurement, according to the method, a light pulse is fed into the fiber from the source of the OTDR device. This light pulse is reflected within the optical fiber by backscattering, backscattering, but especially at cable breaks, splices, fiber optic connectors and adapters, and returns to the OTDR measuring device, where it is measured and analyzed. From the transit time of the reflected light pulse, the location of the fault can be determined immediately. Conclusions about the type of fault can be drawn from the attenuation curve of the pulse.</p>
<a id="more"></a>

<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><p>You can use this prohect as browser version or node version.<br>Currently only SOR files from version 2 are supported.</p>
<p>At the top left of the menu a SOR file can be selected by clicking on “Browse”. Then click on the button “load” and the file will be read in. This may take a while.<br>Afterward, the corresponding results are displayed</p>
<h3 id="start-Browser-Version"><a href="#start-Browser-Version" class="headerlink" title="start Browser Version"></a>start Browser Version</h3><p>open the “index.html” in your Browser. Select an SOR File from your Filesystem and click the Button “Load”. Then the SOR file is parsed in the background and the result is displayed in the browser.</p>
<h3 id="start-Node-Version"><a href="#start-Node-Version" class="headerlink" title="start Node Version"></a>start Node Version</h3><p>In the file “node.js” the variable “filepath” can be overwritten with the path to the desired SOR file. Or you can choose one of the suggested samples.</p>
<p>To install the required modules type:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure>

<p>Then the parser can be started with:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node node.js</span><br></pre></td></tr></table></figure>

<p>Node now automatically creates a file “result.json”. It contains all parameter specifications and measured values.</p>
<h3 id="Config"><a href="#Config" class="headerlink" title="Config"></a>Config</h3><p>Some Config parameters can be set. In the browser version the variable “config” in “main-browser.js” can be adjusted. In the node version the variable “config” in “node.js” can be adjusted. The following values can be set:</p>
<ul>
<li>debug: false, // IF true Logging Infos are displayed to Console</li>
<li>createJson: false, //only for Node Version. If true results ar wirtten in an File called “result.js”</li>
<li>jsonPath: ‘.’, //only for Node Version and if createJson is true. This is the path there the json file is saved</li>
<li>jsonName: ‘result.json’, //if createJson is true this is the name of the json File</li>
<li>devMode: false, //For Development: if true only the first 100 DataPoints are read</li>
<li>browserMode: false //BrowserMode</li>
</ul>
<h2 id="The-Code"><a href="#The-Code" class="headerlink" title="The Code"></a>The Code</h2><p>The following libraries were used for the project:</p>
<ul>
<li>NPM Package <a href="https://www.npmjs.com/package/binary-file">binary-file</a></li>
<li>For the Chart i use <a href="https://www.echartsjs.com/en/index.html">echarts.js</a></li>
</ul>
<p>The Rest is written in Vanilla JS</p>
<p>The inspiration comes from this site:</p>
<ul>
<li>NPM Package <a href="https://www.npmjs.com/package/jsotdr">jsotdr</a>.<br>Thanks to <a href="https://www.npmjs.com/~sid5432">sid5432</a>.</li>
</ul>
<h2 id="The-SOR-File"><a href="#The-SOR-File" class="headerlink" title="The SOR File"></a>The SOR File</h2><p>The common Belcore .sor (“Standard OTDR Record”) date format is defined by the Telcordia SR-4731, issue 2 standard, and is used to store the fiber data.<br>With this Viewer you can read and analyze the optical network characteristics and performance.</p>
<p>I have taken most of the information from the following Blog <a href="http://morethanfootnotes.blogspot.com/2015/07/the-otdr-optical-time-domain.html">morethanfootnotes</a>.</p>
<h2 id="Knwon-Issues"><a href="#Knwon-Issues" class="headerlink" title="Knwon Issues"></a>Knwon Issues</h2><ul>
<li>SOR Version 1 not supported yet</li>
</ul>
<h2 id="CONTACT"><a href="#CONTACT" class="headerlink" title="CONTACT"></a>CONTACT</h2><p><a href="mailto:moosler@gmx.de" title="Email me">Email me</a></p>
</div><div class="article-tags size-small is-uppercase mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/OTDR/">OTDR</a><a class="link-muted mr-2" rel="tag" href="/tags/SOR/">SOR</a><a class="link-muted mr-2" rel="tag" href="/tags/Fiber-optic/">Fiber optic</a><a class="link-muted mr-2" rel="tag" href="/tags/Measuring-software/">Measuring software</a><a class="link-muted mr-2" rel="tag" href="/tags/Graph/">Graph</a><a class="link-muted mr-2" rel="tag" href="/tags/echarts-js/">echarts.js</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2020/04/12/Random-Generator-Seed/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Random Number Generator with Seed</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2020/01/12/hexo/"><span class="level-item">Hexo</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="" src="/img/avatar.png" alt="Marco Moosler"></figure><p class="title is-size-4 is-block line-height-inherit">Marco Moosler</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Rastatt Germany</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">6</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">8</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">15</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/moosler" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/moosler"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/Mar_Moos"><i class="fab fa-twitter"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/Blog/"><span class="level-start"><span class="level-item">Blog</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Game/"><span class="level-start"><span class="level-item">Game</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/Game/Pixi/"><span class="level-start"><span class="level-item">Pixi</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/OTDR/"><span class="level-start"><span class="level-item">OTDR</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/OTDR/Fiber-optic/"><span class="level-start"><span class="level-item">Fiber optic</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/Random/"><span class="level-start"><span class="level-item">Random</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/setup/"><span class="level-start"><span class="level-item">setup</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/typescript/"><span class="level-start"><span class="level-item">typescript</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><a class="media-left" href="/2020/05/13/typescript/"><p class="image is-64x64"><img class="thumbnail" src="/images/typscript.jpg" alt="typescript"></p></a><div class="media-content size-small"><p><time dateTime="2020-05-13T17:55:12.000Z">2020-05-13</time></p><p class="title is-6"><a class="link-muted" href="/2020/05/13/typescript/">typescript</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/typescript/">typescript</a></p></div></article><article class="media"><a class="media-left" href="/2020/05/13/settings/"><p class="image is-64x64"><img class="thumbnail" src="/images/cog-wheels.jpg" alt="Setup VS-Code"></p></a><div class="media-content size-small"><p><time dateTime="2020-05-13T17:51:59.000Z">2020-05-13</time></p><p class="title is-6"><a class="link-muted" href="/2020/05/13/settings/">Setup VS-Code</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/setup/">setup</a></p></div></article><article class="media"><a class="media-left" href="/2020/04/16/trainline/"><p class="image is-64x64"><img class="thumbnail" src="/images/trainline.PNG" alt="Trainline"></p></a><div class="media-content size-small"><p><time dateTime="2020-04-16T18:50:46.000Z">2020-04-16</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/16/trainline/">Trainline</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Game/">Game</a> / <a class="link-muted" href="/categories/Game/Pixi/">Pixi</a></p></div></article><article class="media"><a class="media-left" href="/2020/04/12/Random-Generator-Seed/"><p class="image is-64x64"><img class="thumbnail" src="/images/random_seed.jpg" alt="Random Number Generator with Seed"></p></a><div class="media-content size-small"><p><time dateTime="2020-04-12T12:29:22.000Z">2020-04-12</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/12/Random-Generator-Seed/">Random Number Generator with Seed</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Random/">Random</a></p></div></article><article class="media"><a class="media-left" href="/2020/02/01/SOR-Viewer/"><p class="image is-64x64"><img class="thumbnail" src="/images/sor_viewer.PNG" alt="Online SOR-Viewer"></p></a><div class="media-content size-small"><p><time dateTime="2020-02-01T13:24:03.000Z">2020-02-01</time></p><p class="title is-6"><a class="link-muted" href="/2020/02/01/SOR-Viewer/">Online SOR-Viewer</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/OTDR/">OTDR</a> / <a class="link-muted" href="/categories/OTDR/Fiber-optic/">Fiber optic</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">April 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/02/"><span class="level-start"><span class="level-item">February 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/01/"><span class="level-start"><span class="level-item">January 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Blogg/"><span class="tag">Blogg</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Fiber-optic/"><span class="tag">Fiber optic</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Game/"><span class="tag">Game</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Graph/"><span class="tag">Graph</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Measuring-software/"><span class="tag">Measuring software</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OTDR/"><span class="tag">OTDR</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Random/"><span class="tag">Random</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SOR/"><span class="tag">SOR</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Seed/"><span class="tag">Seed</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Trainline/"><span class="tag">Trainline</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/echarts-js/"><span class="tag">echarts.js</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/node-js/"><span class="tag">node.js</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pixi-js/"><span class="tag">pixi.js</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/settings/"><span class="tag">settings</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/typescript/"><span class="tag">typescript</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/mm_logo.png" alt="Moe´s Blog" height="28"></a><p class="size-small"><span>&copy; 2020 Marco Moosler</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://marmoo.de',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><!--!--></body></html>